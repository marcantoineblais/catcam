# Image from GitHub Actions: ghcr.io/<your-github-username-or-org>/catcam:latest
# Set CATCAM_IMAGE in stack.env when using the CI-built image (see README).
services:
  catcam:
    image: ${CATCAM_IMAGE:-catcam:latest}
    container_name: catcam
    env_file: stack.env
    environment:
      - PORT=${PORT}
      - USER_SETTINGS_PATH=${USER_SETTINGS_PATH}
      - DOMAIN_NAME=${DOMAIN_NAME}
      - SERVER_URL=${SERVER_URL}
      - DOMAIN_NAME=${NEXT_PUBLIC_DOMAIN_NAME}
      - SERVER_URL=${NEXT_PUBLIC_SERVER_URL}
    ports:
      - "${PORT}:${PORT}"
    restart: unless-stopped
    volumes:
      - user-settings:${USER_SETTINGS_PATH:-/data/user-settings}

volumes:
  user-settings:
